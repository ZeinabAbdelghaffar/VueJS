{"ast":null,"code":"import { computed, onMounted, ref, watch } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport { useStore } from \"vuex\";\nexport default {\n  setup() {\n    const route = useRoute();\n    const id = route.params.id;\n    const store = useStore();\n    const product = computed(() => store.state.product);\n    let title = ref(\"\");\n    let price = ref(0);\n    let qty = ref(0);\n    let productId = ref(50);\n    watch(product, newValue => {\n      title.value = newValue.title;\n      price.value = newValue.price;\n      qty.value = newValue.stock;\n    }, {\n      deep: true\n    });\n    if (id) {\n      onMounted(() => {\n        store.dispatch('GetProductById', id);\n      });\n    }\n    let HandleAddProduct = () => {\n      let product = {\n        title: title.value,\n        price: price.value,\n        stock: qty.value\n      };\n      store.dispatch(\"AddProduct\", product);\n    };\n    let HandleUpdateProduct = () => {\n      product.value.title = title.value;\n      product.value.stock = qty.value;\n      product.value.price = price.value;\n      store.dispatch(\"UpdateProduct\", product.value);\n    };\n    return {\n      product,\n      id,\n      title,\n      price,\n      qty,\n      productId,\n      HandleAddProduct,\n      HandleUpdateProduct\n    };\n  }\n};","map":{"version":3,"names":["computed","onMounted","ref","watch","useRoute","useStore","setup","route","id","params","store","product","state","title","price","qty","productId","newValue","value","stock","deep","dispatch","HandleAddProduct","HandleUpdateProduct"],"sources":["C:\\Users\\Lenovo-\\Desktop\\zeinab\\VueJS\\day2\\src\\Components\\Pages\\ProductForm.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h2 class=\"form-title\">{{ this.id ? \"Update\" : \"Add\" }} Product</h2>\n    <form action=\"#\" @submit.prevent=\"id?HandleUpdateProduct():HandleAddProduct()\" class=\"mx-auto mb-0 mt-8 max-w-md space-y-4\">\n      <div class=\"form-group\">\n        <label for=\"title\">Title</label>\n        <input type=\"text\" id=\"title\" v-model=\"title\" required />\n      </div>\n  \n      <div class=\"form-group\">\n        <label for=\"price\">Price</label>\n        <input type=\"number\" id=\"price\" v-model=\"price\" required />\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"qty\">Quantity</label>\n        <input type=\"number\" id=\"qty\" v-model=\"qty\" required />\n      </div>\n\n      <div class=\"flex items-center justify-between\">\n        <button type=\"submit\" class=\"inline-block rounded-lg bg-blue-500 px-5 py-3 text-sm font-medium text-white\">\n        {{ id? \"Update\" : \"Add\" }}\n        </button>\n      </div>\n    </form>\n    <div @click=\"update\">hello</div>\n  </div>\n</template>\n\n<script>\nimport { computed, onMounted, ref, watch } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport { useStore } from \"vuex\";\n  export default {\n    setup() {\n      const route = useRoute();\n      const id = route.params.id;\n      const store = useStore();\n      const product = computed(()=> store.state.product);\n      let title = ref(\"\");\n      let price = ref(0);\n      let qty = ref(0);\n      let productId = ref(50);\n\n      watch(product, (newValue) => {\n      title.value = newValue.title;\n      price.value = newValue.price;\n      qty.value = newValue.stock;\n      }, { deep: true });\n      \n      if (id) {\n        onMounted( ()=> {\n          store.dispatch('GetProductById', id);\n        })\n      }\n      \n      let HandleAddProduct = () => {\n          let product = {\n            title: title.value,\n            price: price.value,\n            stock: qty.value\n          }\n          store.dispatch(\"AddProduct\", product)\n      }\n      let HandleUpdateProduct = () => {\n        product.value.title = title.value;\n        product.value.stock = qty.value;\n        product.value.price = price.value;\n        store.dispatch(\"UpdateProduct\", product.value);\n      }\n    \n      return {\n       product, id, title, price, qty, productId, HandleAddProduct, HandleUpdateProduct \n      };\n    },\n  }\n</script>\n<style scoped>\n.container {\n  width: 600px;\n  margin: 0 auto;\n  padding: 20px;\n  background-color: #f9f9f9;\n  border-radius: 8px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.form-title {\n  text-align: center;\n  margin-bottom: 20px;\n  font-size: 28px;\n  color: #333;\n  border-bottom: 2px solid #41b883; \n  padding-bottom: 10px; \n}\n\n.form-group {\n  margin-bottom: 15px;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 5px;\n  font-weight: 600;\n}\n\n.form-group input,\n.form-group select {\n  width: 100%;\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n  transition: border-color 0.3s;\n}\n\n.form-group input:focus,\n.form-group select:focus {\n  border-color: #41b883;\n  outline: none;\n}\n\nbutton {\n  padding: 10px 20px;\n  margin-right: 10px;\n  margin-bottom: 10px;\n  background-color: #41b883;\n  color: #fff;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\nbutton:hover {\n  background-color: #35495e;\n}\n\n.buttons {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 20px;\n}\n\n.user-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n}\n\n.user-table th,\n.user-table td {\n  padding: 10px;\n  border: 1px solid #ddd;\n  text-align: left;\n}\n\n.user-table th {\n  background-color: #f4f4f4;\n  font-weight: bold;\n}\n\n.user-table button {\n  background-color: #41b883;\n  padding: 5px 10px;\n  border: none;\n  border-radius: 4px;\n  color: #fff;\n  cursor: pointer;\n  transition: background-color 0.3s;\n  margin-right: 5px;\n}\n\n.user-table button:hover {\n  background-color: #35495e;\n}\n\n.user-table .delete-button {\n  background-color: #e74c3c;\n}\n\n.user-table .delete-button:hover {\n  background-color: #c0392b;\n}\n</style>"],"mappings":"AA8BA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,GAAG,EAAEC,KAAI,QAAS,KAAK;AACrD,SAASC,QAAO,QAAS,YAAY;AACrC,SAASC,QAAO,QAAS,MAAM;AAC7B,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIH,QAAQ,CAAC,CAAC;IACxB,MAAMI,EAAC,GAAID,KAAK,CAACE,MAAM,CAACD,EAAE;IAC1B,MAAME,KAAI,GAAIL,QAAQ,CAAC,CAAC;IACxB,MAAMM,OAAM,GAAIX,QAAQ,CAAC,MAAKU,KAAK,CAACE,KAAK,CAACD,OAAO,CAAC;IAClD,IAAIE,KAAI,GAAIX,GAAG,CAAC,EAAE,CAAC;IACnB,IAAIY,KAAI,GAAIZ,GAAG,CAAC,CAAC,CAAC;IAClB,IAAIa,GAAE,GAAIb,GAAG,CAAC,CAAC,CAAC;IAChB,IAAIc,SAAQ,GAAId,GAAG,CAAC,EAAE,CAAC;IAEvBC,KAAK,CAACQ,OAAO,EAAGM,QAAQ,IAAK;MAC7BJ,KAAK,CAACK,KAAI,GAAID,QAAQ,CAACJ,KAAK;MAC5BC,KAAK,CAACI,KAAI,GAAID,QAAQ,CAACH,KAAK;MAC5BC,GAAG,CAACG,KAAI,GAAID,QAAQ,CAACE,KAAK;IAC1B,CAAC,EAAE;MAAEC,IAAI,EAAE;IAAK,CAAC,CAAC;IAElB,IAAIZ,EAAE,EAAE;MACNP,SAAS,CAAE,MAAK;QACdS,KAAK,CAACW,QAAQ,CAAC,gBAAgB,EAAEb,EAAE,CAAC;MACtC,CAAC;IACH;IAEA,IAAIc,gBAAe,GAAIA,CAAA,KAAM;MACzB,IAAIX,OAAM,GAAI;QACZE,KAAK,EAAEA,KAAK,CAACK,KAAK;QAClBJ,KAAK,EAAEA,KAAK,CAACI,KAAK;QAClBC,KAAK,EAAEJ,GAAG,CAACG;MACb;MACAR,KAAK,CAACW,QAAQ,CAAC,YAAY,EAAEV,OAAO;IACxC;IACA,IAAIY,mBAAkB,GAAIA,CAAA,KAAM;MAC9BZ,OAAO,CAACO,KAAK,CAACL,KAAI,GAAIA,KAAK,CAACK,KAAK;MACjCP,OAAO,CAACO,KAAK,CAACC,KAAI,GAAIJ,GAAG,CAACG,KAAK;MAC/BP,OAAO,CAACO,KAAK,CAACJ,KAAI,GAAIA,KAAK,CAACI,KAAK;MACjCR,KAAK,CAACW,QAAQ,CAAC,eAAe,EAAEV,OAAO,CAACO,KAAK,CAAC;IAChD;IAEA,OAAO;MACNP,OAAO;MAAEH,EAAE;MAAEK,KAAK;MAAEC,KAAK;MAAEC,GAAG;MAAEC,SAAS;MAAEM,gBAAgB;MAAEC;IAC9D,CAAC;EACH;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}