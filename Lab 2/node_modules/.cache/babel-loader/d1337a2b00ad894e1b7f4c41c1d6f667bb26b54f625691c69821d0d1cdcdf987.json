{"ast":null,"code":"import { computed, onMounted, ref, watch } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport { useStore } from \"vuex\";\nexport default {\n  setup() {\n    const route = useRoute();\n    const id = route.params.id;\n    const store = useStore();\n    const product = computed(() => store.state.product);\n    let title = ref(\"\");\n    let price = ref(0);\n    let qty = ref(0);\n    let productId = ref(50);\n    watch(product, newValue => {\n      title.value = newValue.title;\n      price.value = newValue.price;\n      qty.value = newValue.stock;\n    }, {\n      deep: true\n    });\n    if (id) {\n      onMounted(() => {\n        store.dispatch('GetProductById', id);\n      });\n    }\n    let HandleAddProduct = () => {\n      let product = {\n        title: title.value,\n        price: price.value,\n        stock: qty.value\n      };\n      store.dispatch(\"AddProduct\", product);\n    };\n    let HandleUpdateProduct = () => {\n      product.value.title = title.value;\n      product.value.stock = qty.value;\n      product.value.price = price.value;\n      store.dispatch(\"UpdateProduct\", product.value);\n    };\n    return {\n      product,\n      id,\n      title,\n      price,\n      qty,\n      productId,\n      HandleAddProduct,\n      HandleUpdateProduct\n    };\n  }\n};","map":{"version":3,"names":["computed","onMounted","ref","watch","useRoute","useStore","setup","route","id","params","store","product","state","title","price","qty","productId","newValue","value","stock","deep","dispatch","HandleAddProduct","HandleUpdateProduct"],"sources":["C:\\Users\\Lenovo-\\Desktop\\zeinab\\VueJS\\day2\\src\\Components\\Pages\\ProductForm.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h2 class=\"form-title\">{{ this.id ? \"Update\" : \"Add\" }} Product</h2>\n    <form action=\"#\" @submit.prevent=\"id?HandleUpdateProduct():HandleAddProduct()\" class=\"mx-auto mb-0 mt-8 max-w-md space-y-4\">\n            <div class=\"form-group\">\n        <label for=\"title\">Title</label>\n        <input type=\"text\" id=\"title\" v-model=\"title\" required />\n      </div>\n  \n      <div>\n        <label for=\"price\">Price</label>\n  \n        <div class=\"relative\">\n          <input\n            v-model.lazy=\"price\"\n            type=\"number\"\n            class=\"w-full rounded-lg border-gray-200 p-4  text-sm shadow-sm\"\n            placeholder=\"Enter price\"\n          />\n  \n        </div>\n      </div>\n\n      <div>\n        <label for=\"qty\">Quantity</label>\n  \n        <div class=\"relative\">\n          <input\n            v-model.lazy=\"qty\"\n            type=\"number\"\n            class=\"w-full rounded-lg border-gray-200 p-4  text-sm shadow-sm\"\n            placeholder=\"Enter qty\"\n          />\n  \n        </div>\n      </div>\n\n  \n      <div class=\"flex items-center justify-between\">\n        <button\n          type=\"submit\"\n          class=\"inline-block rounded-lg bg-blue-500 px-5 py-3 text-sm font-medium text-white\"\n        >\n        {{ id? \"Update\" : \"Add\" }}\n        </button>\n      </div>\n    </form>\n    <div @click=\"update\">hello</div>\n  </div>\n</template>\n\n<script>\nimport { computed, onMounted, ref, watch } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport { useStore } from \"vuex\";\n  export default {\n    setup() {\n      const route = useRoute();\n      const id = route.params.id;\n      const store = useStore();\n      const product = computed(()=> store.state.product);\n      let title = ref(\"\");\n      let price = ref(0);\n      let qty = ref(0);\n      let productId = ref(50);\n\n      watch(product, (newValue) => {\n      title.value = newValue.title;\n      price.value = newValue.price;\n      qty.value = newValue.stock;\n      }, { deep: true });\n      \n      if (id) {\n        onMounted( ()=> {\n          store.dispatch('GetProductById', id);\n        })\n      }\n      \n      let HandleAddProduct = () => {\n          let product = {\n            title: title.value,\n            price: price.value,\n            stock: qty.value\n          }\n          store.dispatch(\"AddProduct\", product)\n      }\n      let HandleUpdateProduct = () => {\n        product.value.title = title.value;\n        product.value.stock = qty.value;\n        product.value.price = price.value;\n        store.dispatch(\"UpdateProduct\", product.value);\n      }\n    \n      return {\n       product, id, title, price, qty, productId, HandleAddProduct, HandleUpdateProduct \n      };\n    },\n  }\n</script>"],"mappings":"AAoDA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,GAAG,EAAEC,KAAI,QAAS,KAAK;AACrD,SAASC,QAAO,QAAS,YAAY;AACrC,SAASC,QAAO,QAAS,MAAM;AAC7B,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIH,QAAQ,CAAC,CAAC;IACxB,MAAMI,EAAC,GAAID,KAAK,CAACE,MAAM,CAACD,EAAE;IAC1B,MAAME,KAAI,GAAIL,QAAQ,CAAC,CAAC;IACxB,MAAMM,OAAM,GAAIX,QAAQ,CAAC,MAAKU,KAAK,CAACE,KAAK,CAACD,OAAO,CAAC;IAClD,IAAIE,KAAI,GAAIX,GAAG,CAAC,EAAE,CAAC;IACnB,IAAIY,KAAI,GAAIZ,GAAG,CAAC,CAAC,CAAC;IAClB,IAAIa,GAAE,GAAIb,GAAG,CAAC,CAAC,CAAC;IAChB,IAAIc,SAAQ,GAAId,GAAG,CAAC,EAAE,CAAC;IAEvBC,KAAK,CAACQ,OAAO,EAAGM,QAAQ,IAAK;MAC7BJ,KAAK,CAACK,KAAI,GAAID,QAAQ,CAACJ,KAAK;MAC5BC,KAAK,CAACI,KAAI,GAAID,QAAQ,CAACH,KAAK;MAC5BC,GAAG,CAACG,KAAI,GAAID,QAAQ,CAACE,KAAK;IAC1B,CAAC,EAAE;MAAEC,IAAI,EAAE;IAAK,CAAC,CAAC;IAElB,IAAIZ,EAAE,EAAE;MACNP,SAAS,CAAE,MAAK;QACdS,KAAK,CAACW,QAAQ,CAAC,gBAAgB,EAAEb,EAAE,CAAC;MACtC,CAAC;IACH;IAEA,IAAIc,gBAAe,GAAIA,CAAA,KAAM;MACzB,IAAIX,OAAM,GAAI;QACZE,KAAK,EAAEA,KAAK,CAACK,KAAK;QAClBJ,KAAK,EAAEA,KAAK,CAACI,KAAK;QAClBC,KAAK,EAAEJ,GAAG,CAACG;MACb;MACAR,KAAK,CAACW,QAAQ,CAAC,YAAY,EAAEV,OAAO;IACxC;IACA,IAAIY,mBAAkB,GAAIA,CAAA,KAAM;MAC9BZ,OAAO,CAACO,KAAK,CAACL,KAAI,GAAIA,KAAK,CAACK,KAAK;MACjCP,OAAO,CAACO,KAAK,CAACC,KAAI,GAAIJ,GAAG,CAACG,KAAK;MAC/BP,OAAO,CAACO,KAAK,CAACJ,KAAI,GAAIA,KAAK,CAACI,KAAK;MACjCR,KAAK,CAACW,QAAQ,CAAC,eAAe,EAAEV,OAAO,CAACO,KAAK,CAAC;IAChD;IAEA,OAAO;MACNP,OAAO;MAAEH,EAAE;MAAEK,KAAK;MAAEC,KAAK;MAAEC,GAAG;MAAEC,SAAS;MAAEM,gBAAgB;MAAEC;IAC9D,CAAC;EACH;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}